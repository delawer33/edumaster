# Edumaster - Платформа Обмена Курсов (Backend)

Edumaster — это бэкэнд-платформа для обмена образовательными курсами между учителями и студентами. Она предоставляет API для управления пользователями, курсами, уроками, файлами, платежами и другими функциями.

## Содержание
- [Возможности](#возможности)
- [Используемые технологии](#используемые-технологии)
- [Начало работы](#начало-работы)
  - [Через Docker](#через-docker)
  - [Локально на машине](#локально-на-машине)
- [Документация API](#документация-api)

## Возможности
- **Управление пользователями**: Регистрация, аутентификация (студенты, учителя, администраторы).
- **Управление курсами**: Создание, редактирование, публикация и архивирование курсов.
- **Модули и уроки**: Структурирование курсов по модулям и урокам.
- **Работа с файлами**: Загрузка и хранение файлов, связанных с курсами и уроками.
- **Платежная система**: Обработка покупки курсов.
- **Система ролей**: Различные уровни доступа для студентов, учителей и администраторов.

## Используемые технологии
- **Python**
- **FastAPI**
- **SQLAlchemy**
- **PostgreSQL**
- **MinIO**
- **RabbitMQ**
- **Docker**
- **Alembic**

## Начало работы

Для запуска проекта убедитесь, что у вас установлен Docker и Docker Compose (если вы планируете использовать Docker) или Python 3.12+ (для локальной установки).

### Через Docker

1.  **Клонирование репозитория:**
    ```bash
    git clone https://github.com/delawer33/edumaster
    cd edumaster
    ```

2.  **Настройка переменных окружения:**
    В директории `edumaster/app/core` создайте файл `.env`. Скопируйте содержимое из `.env_example` в новый файл `.env` и при необходимости отредактируйте его.

3.  **Запуск сервисов:**
    Используйте Docker Compose для запуска всех необходимых сервисов (приложение, база данных, MinIO, RabbitMQ):
    ```bash
    sudo docker compose up -d
    ```

### Локально на машине

1.  **Клонирование репозитория:**
    ```bash
    git clone https://github.com/delawer33/edumaster
    cd edumaster
    ```

2.  **Настройка переменных окружения:**
    В директории `edumaster/app/core` создайте файл `.env`. Скопируйте содержимое из `.env_example` в новый файл `.env` и при необходимости отредактируйте его.

3.  **Создание и активация виртуального окружения:**
    Создайте виртуальное окружение Python 3.12 и установите зависимости:
    ```bash
    python3 -m venv .venv
    source .venv/bin/activate
    pip install -r requirements.txt
    ```

4.  **Запуск сторонних сервисов (Postgres, MinIO, RabbitMQ):**
    Для запуска `postgres` и `minio` вы можете использовать `docker-compose.yaml`. Закомментируйте сервис `app` в файле `docker-compose.yaml` и выполните:
    ```bash
    sudo docker compose up -d
    ```
    Убедитесь, что RabbitMQ также запущен (если используется).

5.  **Инициализация базы данных и заполнение тестовыми данными:**
    Создайте таблицы в базе данных и добавьте тестового администратора.
    (Администратор по умолчанию: `admin@example.com`, пароль: `adminpassword`)
    ```bash
    python3 -m app.db.seed
    ```

6.  **Запуск сервера приложения:**
    ```bash
    python3 -m app.main
    ```

## Документация API

После запуска сервера, Swagger-документация будет доступна по адресу:
`http://localhost:8000/docs`

